<!-- JavaScript at the bottom for fast page loading -->
	
	
	<!-- scripts concatenated and minified via build script -->
	<script src="js/jquery-1.7.1.min.js"></script>
	<script src="js/custom.js"></script>
	
	<!-- superfish -->
	<script  src="js/superfish-1.4.8/js/hoverIntent.js"></script>
	<script  src="js/superfish-1.4.8/js/superfish.js"></script>
	<script  src="js/superfish-1.4.8/js/supersubs.js"></script>
	<!-- ENDS superfish -->
	
	<script src="js/jquery.nivo.slider.js" ></script>
	<script src="js/css3-mediaqueries.js"></script>
	<script src="js/tabs.js"></script>
	<script  src="js/poshytip-1.1/src/jquery.poshytip.min.js"></script>
	<script src="js/jquery-1.10.2.js"></script>
	<script  src="js/jquery-ui.js"></script>
	<script>
		$(document).on("ready",function(){
			
			var busqueda;
			var dni;
			var dni2;
			var numero_socio;
			var numero_socio1;
			var numero_socio2;
			var apellido;
			var nombre;
			var apellido1;
			var apellido2;
			var nombre1;
			var nombre2;
			var disciplina;
			var dato;
			var tipo_doc;
			var tipo_doc2;
			var parentezco;
			var instalacion;
			var fecha;
			var hora;
			$(".busqueda").on("focus",function(){
				busqueda = $(this).attr('data-busqueda');
				
				if(busqueda==1){
				   $( "#apellido_n" ).autocomplete({
				      source: 'buscador.php?busqueda=1',
				      minLength: 2,
				      select: function (event, ui) {
				            $("#apellido_n").attr('data-num-socio',ui.item.numero_socio );
				            $("#apellido_n").attr('data-apellido',ui.item.apellido );
				            $("#apellido_n").attr('data-nombre',ui.item.nombre);
				            $("#apellido_n").attr('data-dni',ui.item.dni );
				            $("#apellido_n").attr('data-tipo-doc',ui.item.tipo_doc );
				            $("#apellido_n").attr('data-fechaingre',ui.item.fechaingreso );
				            $("#apellido_n").attr('data-est-cuenta',ui.item.estadocuenta );
				            
				        }

	   				 });//fin buscador para modificacion y eliminacion

				   $( "#apellido_n" ).on("blur keydown", function(){
						//alert($("#apellido_n").val());
						//con esto se que se dio enter o se quito el foco
						if(event.which == 13 || event.type == "blur") {
							 numero_socio=$("#apellido_n").attr("data-num-socio");
							 apellido =$("#apellido_n").attr("data-apellido");
							 nombre = $("#apellido_n").attr("data-nombre");
							 dni=$("#apellido_n").attr("data-dni");
							tipo_doc=$("#apellido_n").attr("data-tipo-doc");
							var fechaing = $("#apellido_n").attr("data-fechaingre");
							var estado = $("#apellido_n").attr("data-est-cuenta");

							//para directivo
							$("#num-alta-directivo").attr("value",numero_socio);
							//
							$("#numero_soc").attr('value', numero_socio);
							$("#tipo_alq").attr('value', 1);
							
							$("#lista_soc .fila_resultado").remove();
							$(".paginador").remove();
							$("#lista_soc").append('<tr class="fila_resultado"><td>'+numero_socio+'</td><td>'+nombre+'</td><td>'+apellido+'</td><td>'+dni+'</td><td>'+tipo_doc+'</td><td>'+fechaing+'</td><td>'+estado+'</td><td><a class="link-button blue" href=modificar.php?ID='+numero_socio+'&tipo_busq=1>Modificar</a></td><td><a class="link-button red" href=borrar_socio_resul.php?ID='+numero_socio+'&tipo_busq=1>Eliminar</a></td></tr>');
						}
						
						});

				   //busqueda proveedores
				     $( "#buscar_prov" ).autocomplete({
				      source: 'buscador.php?busqueda=12',
				      minLength: 2,
				      select: function (event, ui) {
				            $("#num-baja-proveedor").attr('value',ui.item.nombre );
				        }//fin buscador para disciplinas

	   				 });
	   				  $( "#buscar_provs" ).autocomplete({
				      source: 'buscador.php?busqueda=12',
				      minLength: 2,
				      select: function (event, ui) {
				            $("#proveedor").attr('value',ui.item.nombre );
				        }//fin buscador para disciplinas

	   				 });
	   				
				      //busqueda insumos
				   $( "#buscar-insumo" ).autocomplete({
				      source: 'buscador.php?busqueda=13',
				      minLength: 2,
				      select: function (event, ui) {
				            $("#baja-insumo").attr('value',ui.item.nombre );
				        }//fin buscador para disciplinas

	   				 });
				    $( "#buscar-insumos" ).autocomplete({
				      source: 'buscador.php?busqueda=13',
				      minLength: 2,
				      select: function (event, ui) {
				            $("#insumo").attr('value',ui.item.nombre );
				        }//fin buscador para disciplinas

	   				 });
				    $( "#buscar_insumos" ).autocomplete({
				      source: 'buscador.php?busqueda=13',
				      minLength: 2,
				      select: function (event, ui) {
				            $("#insumos").attr('value',ui.item.nombre );
				        }//fin buscador para disciplinas

	   				 });

				   //alta disciplina
				    $( "#apellido_n_dis" ).autocomplete({
				      source: 'buscador.php?busqueda=1',
				      minLength: 2,
				      select: function (event, ui) {
				            $("#apellido_n_dis").attr('data-num-socio',ui.item.numero_socio );
				            $("#apellido_n_dis").attr('data-apellido',ui.item.apellido );
				            $("#apellido_n_dis").attr('data-nombre',ui.item.nombre);

				            //para directivo
							$("#num-baja-directivo").attr("value",ui.item.numero_socio);
							//
				        }//fin buscador para disciplinas

	   				 });

					disciplinas='<select id="disciplinas" title="Elija una opcion"><option></option><option value="1">ACROBACIA</option><option value="2">AEROBIC</option><option value="3">AIKIDO</option><option value="4">AJEDREZ</option><option value="5">ARTES MARCIALES</option><option value="6">ATLETISMO</option><option value="7">BASQUETBOL</option><option value="8">BOXEO</option><option value="9">BEISBOL</option><option value="10">ESGRIMA</option><option value="12">GIMNASIA</option><option value="11">FÚTBOL</option><option value="13">HOCKEY</option><option value="14">NATACIÓN</option><option value="15">RUGBY</option><option value="16">SOFTBOL</option><option value="17">TENIS</option><option value="18">VOLEIBOL</option></select>';

				    $( "#apellido_n_dis" ).on("blur keydown", function(){
						//alert($("#apellido_n").val());
						//con esto se que se dio enter o se quito el foco
						numero_socio=$("#apellido_n_dis").attr("data-num-socio");
						apellido =$("#apellido_n_dis").attr("data-apellido");
						nombre = $("#apellido_n_dis").attr("data-nombre");
						if(event.which == 13 || event.type == "blur") {
							$("#alta_disciplina").show();
							$("#alta_disciplina .fila_resultado").remove();
							$("#alta_disciplina").append('<tr class="fila_resultado"><td>'+numero_socio+'</td><td>'+nombre+'</td><td>'+apellido+'</td><td>'+disciplinas+'</td><td class="boton_agr"><a class="link-button green" href=agregar_disciplina.php?num_soc='+numero_socio+'>Agregar</a></td></tr>');
							
						}
					});
				    $("#alta_disciplina").change("disciplinas", function(){
								id_dis=document.getElementById("disciplinas").value;
								nom_dis=$("#disciplinas option:selected").text();
				      			$("#alta_disciplina .fila_resultado .boton_agr").remove();
				      			$("#alta_disciplina .fila_resultado").append('<td class="boton_agr"><a class="link-button green" href=agregar_disciplina.php?num_soc='+numero_socio+'&disciplina='+id_dis+'>Agregar</a></td></tr>');
				    });
				    
				    $( "#apellido_n_socio" ).autocomplete({
				      source: 'buscador.php?busqueda=1',
				      minLength: 2,
				      select: function (event, ui) {
				            $("#apellido_n_socio").attr('data-num-socio',ui.item.numero_socio );            
				        }

	   				 });
				    $( "#apellido_n_socio_familiar" ).autocomplete({
				      source: 'buscador.php?busqueda=1',
				      minLength: 2,
				      select: function (event, ui) {
				            $("#apellido_n_socio_familiar").attr('data-num-socio',ui.item.numero_socio );
				        }
	   				 });

				    $("#apellido_n_socio_familiar").on("keydown blur",function(){
						if(event.which == 13 || event.type == "blur"){
							numero_socio1 = $("#apellido_n_socio").attr('data-num-socio');
							numero_socio2 = $("#apellido_n_socio_familiar").attr('data-num-socio');
							$("#reg_parentezco").attr('href', 'alta_familiar_socio.php?num_soc1='+numero_socio1+'&num_soc2='+numero_socio2+'&tipo_busq=1');
						}
						
					});
					/////
					$( "#apellido_buscar_familiares_socio" ).autocomplete({
				      source: 'buscador.php?busqueda=1',
				      minLength: 2,
				      select: function (event, ui) {
				            $("#apellido_buscar_familiares_socio").attr('data-num-socio',ui.item.numero_socio );
				            $("#apellido_buscar_familiares_socio").attr('data-num-socio-familiar',ui.item.numero_socio );
			
				        }
	   				 });
					$("#apellido_buscar_familiares_socio").on("keydown blur",function(){
						if(event.which == 13 || event.type == "blur"){
							numero_socio1 = $("#apellido_buscar_familiares_socio").attr('data-num-socio');
										
						}
						
					});
					$( "#busqueda_nombre" ).autocomplete({
				      source: 'buscador.php?busqueda=6',
				      minLength: 2,
				      select: function (event, ui) {
				      	$("#busqueda_nombre").attr('data-num-socio',ui.item.numero_socio );
					
				        }
	   				 });
					$("#busqueda_nombre").on("keydown blur",function(){
						if(event.which == 13 || event.type == "blur"){
							//dato = $("#busqueda_disciplina").attr('data-disciplina');
							dato = $("#busqueda_nombre").val();
							tipo = 2;		
						}
						
					});
					$( "#busqueda_apellido" ).autocomplete({
				      source: 'buscador.php?busqueda=7',
				      minLength: 2,
				      select: function (event, ui) {
				      	$("#busqueda_apellido").attr('data-num-socio',ui.item.numero_socio );
					
				        }
	   				 });
					$("#busqueda_apellido").on("keydown blur",function(){
						if(event.which == 13 || event.type == "blur"){
							//dato = $("#busqueda_disciplina").attr('data-disciplina');
							dato = $("#busqueda_apellido").val();
							tipo = 1;		
						}
						
					});
					$( "#busqueda_documento" ).autocomplete({
				      source: 'buscador.php?busqueda=8',
				      minLength: 2,
				      select: function (event, ui) {
				      	$("#busqueda_documento").attr('data-num-doc',ui.item.dni );
					
				        }
	   				 });
					$("#busqueda_documento").on("keydown blur",function(){
						if(event.which == 13 || event.type == "blur"){
							//dato = $("#busqueda_documento").attr('data-num-doc');
							dato = $("#busqueda_documento").val();
							tipo = 4;			
						}
						
					});
					$( "#busqueda_disciplina" ).autocomplete({
				      source: 'buscador.php?busqueda=9',
				      minLength: 2,
				      select: function (event, ui) {
				      	$("#busqueda_disciplina").attr('data-disciplina',ui.item.disciplina );
					
				        }
	   				 });
					$("#busqueda_disciplina").on("keydown blur",function(){
						if(event.which == 13 || event.type == "blur"){
							//dato = $("#busqueda_disciplina").attr('data-disciplina');
							dato = $("#busqueda_disciplina").val();
							tipo = 3;		
						}
						
					});
					$("#dife_busquedas").on("click",function(){ 
		   				$.ajax({
		   					url: 'buscador.php?term='+dato+'&busqueda=10&tipo='+tipo,
		   					dataType: 'text',
		   					success: function(data){

		   						var json =$.parseJSON(data);
		   						
		   						if(data=="null"){
		   							$("#resultado_bus").css("display", "none");
		   							$("#mensaje_sin_datos").show();
		   						}else{

		   							$("#resultado_bus").show();
			   						$("td","#resultado_bus").remove();

			   						for( i=0; i<json.length;i++){
			   							$("#resultado_bus").append('<tr class="fila resultado"><td>'+json[i].numero_socio+'</td><td>'+json[i].nombre+'</td><td>'+json[i].apellido+'</td><td>'+json[i].dni+'</td><td>'+json[i].tipo_doc+'</td><td>'+json[i].fechaingreso+'</td><td>'+json[i].estadocuenta+'</td></tr>');
			   						}
			   						$("#mensaje_sin_datos").css("display", "none");

		   						}
		   						
		   					}
		   				});
					});
					//
					$( "#eliminar_alquiler" ).autocomplete({
				      source: 'buscador.php?busqueda=14',
				      minLength: 2,
				      select: function (event, ui) {
				      	 numero_socio = ui.item.numero_socio;
						 instalacion = ui.item.nombre_instalacion;
						 fecha = ui.item.fecha;
						 hora = ui.item.hora;
				        }
	   				 });
					//
				     $("#eliminar_alquiler").on("keydown blur",function(){
						if(event.which == 13 || event.type == "blur"){
							$("#el_alquiler").attr('href', 'eliminar_alquiler.php?num='+numero_socio+'&inst='+instalacion+'&fec='+fecha+'&hor='+hora);		
						}
						
					});
				}
				if(busqueda==2){
					
					$( "#apellido_n" ).autocomplete({
						      source: 'buscador.php?busqueda=2',
						      minLength: 2,
						      select: function (event, ui) {
						            $("#apellido_n").attr('data-apellido',ui.item.apellido );
						            $("#apellido_n").attr('data-nombre',ui.item.nombre);
						            $("#apellido_n").attr('data-dni',ui.item.dni );
						            $("#apellido_n").attr('data-tipo-doc',ui.item.tipo_doc );
						            $("#apellido_n").attr('data-salario',ui.item.salario );
						            $("#apellido_n").attr('data-antiguedad',ui.item.antiguedad );
						            $("#apellido_n").attr('data-hora-ent',ui.item.hora_entrada );
						            $("#apellido_n").attr('data-hora-sal',ui.item.hora_salida );
						           // $("#inputProducto").attr('data-id',ui.item.id );
						           // $("#inputProducto").attr('data-stock',ui.item.stock );
								}

	   				});//fin buscador
					$( "#apellido_n" ).on("keydown blur", function(){
								//alert($("#apellido_n").val());
							if(event.which==13 || event.type=="blur"){
								var tipo_doc=$("#apellido_n").attr("data-tipo-doc");
								var apellido =$("#apellido_n").attr("data-apellido");
								var nombre = $("#apellido_n").attr("data-nombre");
								var dni=$("#apellido_n").attr("data-dni");
								var salario= $("#apellido_n").attr("data-salario");
						        var antig= $("#apellido_n").attr("data-antiguedad");
						        var hora_ent = $("#apellido_n").attr("data-hora-ent");
						        var hora_sal = $("#apellido_n").attr("data-hora-sal");
							

								$(".fila_resultado").remove();

								$("#lista_empl").append('<tr class="fila_resultado"><td>'+nombre+'</td><td>'+apellido+'</td><td>'+dni+'</td><td>'+tipo_doc+'</td><td>'+salario+'</td><td>'+antig+'</td><td>'+hora_ent+'</td><td>'+hora_sal+'</td><td><a class="link-button blue" href=modificar_empleado.php?ID='+dni+'&tipo_doc='+tipo_doc+'>Modificar</a></td><td><a  class="link-button red" href=borrar_empleado_result.php?ID='+dni+'&tipo='+tipo_doc+'>Eliminar</a></td></tr>');
							}
								
					});
					$( "#apellido_empleado" ).autocomplete({
						      source: 'buscador.php?busqueda=2',
						      minLength: 2,
						      select: function (event, ui) {
						            $("#apellido_n").attr('data-dni',ui.item.dni );
						            $("#apellido_n").attr('data-tipo-doc',ui.item.tipo_doc );
								}

	   				});//fin buscador
	   				$( "#apellido_empleado" ).on("keydown blur", function(){
								//alert($("#apellido_n").val());
							if(event.which==13 || event.type=="blur"){
								$("#dni_empl").attr( 'value', $("#apellido_n").attr('data-dni'));
								$("#tipo_dni_empl").attr('value', $("#apellido_n").attr('data-tipo-doc'));
							}
								
					});
					$( "#apellido_empleado_mod_el" ).autocomplete({
						      source: 'buscador.php?busqueda=11',
						      minLength: 2,
						      select: function (event, ui) {
						            apellido1 = ui.item.apellido_empleado;
						            apellido2 = ui.item.apellido_familiar;
						            nombre1 = ui.item.nombre_empleado;
						            nombre2 = ui.item.nombre_familiar;
						            dni = ui.item.dni_empleado;
						            dni2 = ui.item.dni_familiar;
						            tipo_doc = ui.item.tipo_doc_empleado;
						            tipo_doc2 = ui.item.tipo_doc_familiar;
						            parentezco = ui.item.parentezco;
								}

	   				});//fin buscador
	   				$( "#apellido_empleado_mod_el" ).on("keydown blur", function(){
								//alert($("#apellido_n").val());
							if(event.which==13 || event.type=="blur"){
								
								$(".fila_resultado").remove();
								$("#lista_fam").append('<tr class="fila_resultado"><td>'+apellido1+'</td><td>'+nombre1+'</td><td>'+dni+'</td><td>'+tipo_doc+'</td><td>'+apellido2+'</td><td>'+nombre2+'</td><td>'+dni2+'</td><td>'+tipo_doc2+'</td><td>'+parentezco+'</td><td><a class="link-button blue" href=modificar.php?ID=&tipo_busq=1>Modificar</a></td><td><a class="link-button red" href=eliminar_familiar.php?dni='+dni2+'&tipo='+tipo_doc2+'>Eliminar</a></td></tr>');
							}
								
					});

				}
				if(busqueda==3){
					//eliminar disciplinas
					var disciplina;
					var id;
				    $( "#apellido_n_eli_dis" ).autocomplete({
					    source: 'buscador.php?busqueda=3',
					    minLength: 2,
					    select: function (event, ui) {
					        $("#apellido_n_eli_dis").attr('data-num-socio',ui.item.numero_socio );
					        $("#apellido_n_eli_dis").attr('data-apellido',ui.item.apellido );
					        $("#apellido_n_eli_dis").attr('data-nombre',ui.item.nombre);
					        $("#apellido_n_eli_dis").attr('data-disciplina',ui.item.disciplina);
					        $("#apellido_n_eli_dis").attr('data-id',ui.item.id_disciplina);
					    }//fin buscador para disciplinas
		   			});

				    $( "#apellido_n_eli_dis" ).on("blur keydown", function(){
						//alert($("#apellido_n").val());
						//con esto se que se dio enter o se quito el foco
						numero_socio=$("#apellido_n_eli_dis").attr("data-num-socio");
						apellido =$("#apellido_n_eli_dis").attr("data-apellido");
						nombre = $("#apellido_n_eli_dis").attr("data-nombre");
						disciplina = $("#apellido_n_eli_dis").attr("data-disciplina");
						id =$("#apellido_n_eli_dis").attr("data-id");
						if(event.which == 13 || event.type == "blur") {
							$("#baja_disciplina").show();
							$("#baja_disciplina .fila_resultado").remove();
							$("#baja_disciplina").append('<tr class="fila_resultado"><td>'+numero_socio+'</td><td>'+nombre+'</td><td>'+apellido+'</td><td>'+disciplina+'</td><td class="boton_agr"><a class="link-button red" href=eliminar_disciplina.php?num_soc='+numero_socio+'&id='+id+'>Eliminar</a></td></tr>');
							
							
						}
					});
				}
				if(busqueda==4){
					$( "#apellido_n_eliminar_socio_familiar" ).autocomplete({
					    source: 'buscador.php?busqueda=4',
					    minLength: 2,
					    select: function (event, ui) {
					        $("#apellido_n_eliminar_socio_familiar").attr('data-num-socio',ui.item.numero_socio );
					        $("#apellido_n_eliminar_socio_familiar").attr('data-num-socio-familiar',ui.item.numero_socio_familiar);
					    }
		   			});
		   			$("#apellido_n_eliminar_socio_familiar").on("keydown blur",function(){
						if(event.which == 13 || event.type == "blur"){
							numero_socio1 = $("#apellido_n_eliminar_socio_familiar").attr('data-num-socio');
							numero_socio2 = $("#apellido_n_eliminar_socio_familiar").attr('data-num-socio-familiar');
							$("#eli_parentezco").attr('href', 'eliminar_familiar_socio.php?num_soc1='+numero_socio1+'&num_soc2='+numero_socio2+'&tipo_busq=1');
						}
						
					});
		   			


		   			$("#buscar_parentezco").on("click",function(){ 
		   				$.ajax({
		   					url: 'buscador.php?term='+numero_socio1+'&busqueda=5',
		   					dataType: 'text',
		   					success: function(data){
		   						var json =$.parseJSON(data);
		   						for( i=0; i<json.length;i++){
		   							$("#busqueda_familiares_socios").append('<tr class="fila resultado"><td>'+json[i].numero_socio+'</td><td>'+json[i].nombre_socio+'</td><td>'+json[i].apellido_socio+'</td><td>'+json[i].numero_socio_familiar+'</td><td>'+json[i].nombre_socio_familiar+'</td><td>'+json[i].apellido_socio_familiar+'</td></tr>');
		   						}
		   					}
		   				});
		   			
						$("#busqueda_familiares_socios").show();
						
						
					});
				}
			});
				
		
							
		});//fin jquery
	</script>
	<!-- end scripts -->